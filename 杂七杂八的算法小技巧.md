---
title: 杂七杂八的算法小技巧
date: 2019-11-23 20:32:12
categories:
    - 算法
tags: 
mathjax: true
---

记录一些很小的算法的小技巧，长期更新。

#### int *last = NULL;
有些时候在排序，或者是树相关的问题时，我们希望有一个变量表示着刚刚走过的变量的值。在申请这个变量的时候，往往要对第一次特殊处理，要么单独处理一次，在第一次后引入新的变量；要么就是一开始将这个对比值设的极大或者极小。这样都不是很好，可以直接将变量设为指针，不赋初值。每一次判断是否为NULL，如果是，就说明是第一次，直接通过；如果不是，进行该进行的判断。注意在每次把上一个的值赋给last的时候要写取址符号
```c++
last = &val;
```

### 主对角线为横纵坐标之差，次对角线为横纵坐标之和
在二维数组内查找的时候，沿对角线查找可能会写的很复杂，记住上面的公式，可以减少代码量和开销。

### 实现sqrt函数
有的会说用牛顿迭代法，但实际上在代码中就是二分。比如说求x的平方根，设下限为0，上限为x，不断二分判断是否$x/i<i$，注意不能直接$i*i$，这样会溢出。
```c++
int mySqrt(int x) {
        if(x==1)    return 1;
        int l=0,h=x;
        while(h>l+1){
            int mid = (l+h)/2;
            if(mid>x/mid)   h=mid;
            else    l=mid;
        }
        return l;
    }
```

### 快速幂
既然写了平方根就把快速幂也写一下吧，基本的思路都相同。都要注意**溢出问题**。
```c++
double myPow(double x, int n) {
        if (n == 0)
            return 1.0;
        double tmp = myPow(x, n / 2);
        if (n % 2)
            return n < 0 ? 1 / x*tmp*tmp : x*tmp*tmp;
        else
            return tmp*tmp;
    }
```