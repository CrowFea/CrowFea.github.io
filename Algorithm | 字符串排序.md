---
title: Algorithm | 字符串排序
date: 2020-04-18 19:28:12
categories:
    - 算法
tags: 
    - 算法
mathjax: true
---

### 背景

字符串排序在实际的使用中通常会对应以下的几种情况：搜索系统，对于繁多的搜索结果需要进行一定的排序；通信系统，无论何种信息，都是一堆字符从一端传递到另一端；基因工程，出人意料的是，在生物学中有着十分重要的作用，比如碱基的配对。

### 键索引计数法

在引入字符串排序的方法之前，我们先考察一种叫键索引计数法的方法。比如说有一群分别属于不同组的学生，如下

```
name	no
Anderw	1
Jack	2
Peter	1
Jane	3
Janie	2
...		...
```

我们的目的在于将学生按照组别进行排序。采用的方法可以采用以下几个步骤：

#### 频率统计

首先遍历一遍整个字符串，使用一个额外的统计数组来记录每个组别开始的位置，这里有一个小技巧，如果组别有5组，那么这个统计数组的大小设置为6。我们将这个统计数组命名为count。组别为r的记录将在r+1位置的count进行加1。

```c++
for(int i=0;i<N;i++)
	count[a[i].key()+1]++;
```

#### 将频率转换为索引

接下来就是将上述的频率转换为排序结果中的索引位置。这样的话，上述的count数组的巧妙地小技巧就十分有用。

```c++
for(int r=0;r<N;++r){
	count[r+1]+=count[r]
}
```

#### 数据分类

在确定了每一组的起始索引之后，我们需要做的就是对数组进行一个分类。这里会使用到一个额外的数组空间，分类的过程可以理解为多指针的过程。

```c++
for(int i=0;i<N;i++){
	aux[count[a[i].key()]++]=a[i];
}
```

### LSD 低位优先的字符串排序


LSD由字面意思可得，是从字符串的低位开始。LSD的局限在于，他排序的字符串必须是等长的。这种情况实际上是很常见的，比如排序车牌、ip地址等。


LSD的具体步骤是，从右至左开始，对每一位实施键索引计数法。如果这个字符串长度为W，那么实际上就是实施W次键索引计数法。并且这种排序方法是稳定的。

```c++
void LSDSort(vector<string> a,int len){
	int N=a.size();
	int R=256;
	vector<string> aux(N);
	for(int d=W-1;d>=0;--d){
		vector<int> count(R+1);
		for(int i=0;i<N;i++)	//计算出现的频率
			count[a[i][d]+1]++;
		for(int i=0;i<R;i++)	//将频率转换为索引
			count[i+1]+=count[i];
		for(int i=0;i<N;i++)	//分类元素
			aux[count[a[i][d]]++]=a[i];
		for(int i=0;i<N;i++)	//回写
			a[i]=aux[i];
		
	}
}
```





